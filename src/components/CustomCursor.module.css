/* Wrapper */
.wrapper {
  position: fixed;
  inset: 0;
  z-index: 999999;
  pointer-events: none;
  overflow: visible;
}

/* Main Cursor */
.cursor {
  position: fixed;
  top: 0;
  left: 0;
  width: 50px;
  height: 50px;
  pointer-events: none;
  z-index: 9999999;
  filter: drop-shadow(0 0 8px var(--accent-dim));
}

.rocket {
  width: 100%;
  height: 100%;
  display: block;
}

/* Flame animations */
.flame {
  animation: flicker 0.12s ease-in-out infinite alternate;
  transform-origin: 20px 34px;
}

.flameInner {
  animation: flickerInner 0.1s ease-in-out infinite alternate;
  transform-origin: 20px 34px;
}

@keyframes flicker {
  from { transform: scaleY(1) scaleX(1); opacity: 0.8; }
  to { transform: scaleY(1.2) scaleX(0.85); opacity: 1; }
}

@keyframes flickerInner {
  from { transform: scaleY(0.9); opacity: 0.7; }
  to { transform: scaleY(1.1); opacity: 1; }
}

/* Trail particles */
.trail {
  position: fixed;
  top: 0;
  left: 0;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 999998;
  background: radial-gradient(
    circle,
    hsl(calc(25 + var(--i, 0) * 4), 100%, 55%) 0%,
    hsl(calc(25 + var(--i, 0) * 4), 100%, 50%) 40%,
    transparent 70%
  );
  filter: blur(calc(var(--i, 0) * 0.5px));
}

/* Light mode */
:global(.light-mode) .trail {
  background: radial-gradient(
    circle,
    rgba(0, 0, 0, 0.6) 0%,
    rgba(0, 0, 0, 0.4) 40%,
    transparent 70%
  );
}

:global(.light-mode.orange-mode) .trail,
:global(.orange-mode) .trail {
  background: radial-gradient(
    circle,
    hsl(calc(20 + var(--i, 0) * 4), 100%, 50%) 0%,
    hsl(calc(20 + var(--i, 0) * 4), 100%, 45%) 40%,
    transparent 70%
  );
}

/* Hide on pure touch devices */
@media (hover: none) and (pointer: coarse) {
  .wrapper {
    display: none;
  }
}
